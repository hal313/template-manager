{"version":3,"sources":["TemplateManager.js"],"names":["global","factory","exports","module","require","define","amd","TemplateManager","flat","this","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","isResolverDefinition","definition","hasOwnProperty","CommonUtil","forEach","collection","callback","Array","isArray","Object","getOwnPropertyNames","propertyName","flattenMap","map","flatten","JSON","parse","stringify","merge","_len","arguments","length","objects","_key","mergedObject","sources","slice","call","source","i","attributeName","isDefined","value","undefined","isNil","toString","trim","isFunction","isObject","createResolverDefinition","pattern","replacement","Error","results","name","push","normalizeResolverDefinition","definitionOrPattern","normalizeResolverDefinitions","definitions","resolverDefinitions","definitionOrReplacement","indexOrPattern","concat","version","normalizeValue","resolveTemplate","template","resolverMap","options","processedTemplateString","resolver","regex","RegExp","replace","undefinedReplacement","nullReplacement","StringResolver","defaultResolverMap","_defaultResolverMap","_options","identityResolver","resolve","processedLoopResult","internalResolverMap","key","validateTemplateName","_this","scriptType","templateCache","addTemplateToCache","get","hasTemplate","getTemplate","process","_resolverMap","index","raw","add","templateName","load","rootElement","scriptElements","document","getElementsByTagName","scriptElement","element","content","type","getAttribute","innerHTML","remove","getTemplateNames","names","empty","defineProperty"],"mappings":"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","file":"TemplateManager.min.js"}