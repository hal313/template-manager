{"version":3,"sources":["TemplateManager.js"],"names":["global","factory","exports","module","require","define","amd","TemplateManager","flat","this","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","isResolverDefinition","definition","hasOwnProperty","CommonUtil","forEach","collection","callback","Array","isArray","Object","getOwnPropertyNames","propertyName","isFunction","value","flattenMap","map","flatten","JSON","parse","stringify","merge","_len","arguments","length","objects","_key","mergedObject","sources","source","slice","call","i","attributeName","isDefined","undefined","isNil","toString","trim","createResolverDefinition","pattern","replacement","Error","normalizeResolverDefinition","definitionOrPattern","normalizeResolverDefinitions","definitions","resolverDefinitions","definitionOrReplacement","indexOrPattern","push","version","normalizeValue","resolveTemplate","template","resolverMap","options","processedTemplateString","resolver","regex","RegExp","replace","undefinedReplacement","nullReplacement","StringResolver","defaultResolverMap","_defaultResolverMap","_options","identityResolver","resolve","processedLoopResult","internalResolverMap","key","validateTemplateName","name","_this","scriptType","templateCache","addTemplateToCache","get","hasTemplate","getTemplate","process","_resolverMap","index","raw","add","templateName","load","rootElement","scriptElements","document","getElementsByTagName","scriptElement","element","content","type","getAttribute","innerHTML","remove","getTemplateNames","names","empty","defineProperty"],"mappings":"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","file":"TemplateManager.min.js"}